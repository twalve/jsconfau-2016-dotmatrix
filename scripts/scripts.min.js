(function(){var a={OPTIONS:{buffer:12,height:900,lead:240,rgb:[2,71,191],sequence:480},BANDS:[],GRID:[],STYLESHEET:["#MATRIX {","position: absolute;","width: 100%;","z-index: -1","}","#MATRIX::after {","content: '';","height: 50rem;","left: 0;","position: absolute;","right: 0;","top: 0;","}","#MATRIX div {","background-size: 25rem;","background-repeat-y: no-repeat;","height: calc(980px * 0.7);","}","#CANVAS {","display: none !important;","}"],canvas:function(){var d=this.GRID[0].length;var p=this.GRID.length;var e=document.getElementById("CANVAS");var q=e.getContext("2d");var h=q.createImageData(d,p);var j=this.OPTIONS.rgb;e.height=p;e.width=d;for(var l=0;l<p;l++){for(var n=0;n<d;n++){var o=(n+l*e.width)*4;var c,i,k,m=255;if(this.GRID[l][n]){c=j[0];i=j[1];k=j[2]}else{c=i=k=255}h.data[o+0]=c;h.data[o+1]=i;h.data[o+2]=k;h.data[o+3]=m}}q.putImageData(h,0,0);var f=e.toDataURL();document.querySelector("#MATRIX div").style.backgroundImage="url("+f+")";e.parentElement.removeChild(e)},colorise:function(c){var b=(typeof c==="string")?c.split(","):c;if(b.length===3){this.OPTIONS.rgb=b}},enshadow:function(b){var c=document.createElement("canvas");c.id="CANVAS";var f=document.createElement("div");f.id="MATRIX";var e=document.createElement("div");var d=document.createElement("style");d.innerHTML=this.STYLESHEET.join("");d.id="DTMTRX";document.head.appendChild(d);f.appendChild(e);document.body.insertBefore(f,document.body.firstChild);document.body.appendChild(c)},generate:function(){var d=0;var k=this.OPTIONS.height;var g=this.OPTIONS.lead;var c=this.OPTIONS.buffer;var b=k-g;var j=k+g;var f=function(l,i){var m=(((k-l)/k)*100);return(i<m)>0?".":""};var e=function(n,l){if(!l.OPTIONS){console.log(n)}for(var i=0;i<l.OPTIONS.sequence;i+=1){var m=l.randomise(200-l.BANDS[d]);n.push(f(d,m))}};var h=function(i){var l=[];for(d=0;d<c;d+=1){l[d]=[];e(l[d],i)}return l};for(;d<j;d+=1){if(d<g){this.BANDS.push(100)}else{this.BANDS.push(((k-d)/b)*100)}}for(d=0;d<j;d+=1){this.GRID[d]=[];e(this.GRID[d],this)}for(d=0;d<6;d+=1){this.GRID=h(this).concat(this.GRID)}for(d=0;d<(g-c);d+=1){this.GRID.unshift(new Array(this.OPTIONS.sequence+1).join(".").split(""))}this.canvas()},localise:function(){var c=document.querySelector("#dtmtrx").innerHTML;if(c.length){var b=c.replace(/\s/gi,"").split("[")[1].split("]")[0].split(",");if(b.length===3){this.colorise(b)}document.querySelector("#DTMTRX").innerHTML+="#MATRIX::after {background-image: linear-gradient("+this.rgb(this.OPTIONS.rgb)+", transparent);}"}},randomise:function(c,b){if(!b){b=c;c=0}return(Math.floor(Math.random()*(b-c+1)))},rgb:function(b){return["rgb(",[b[0],b[1],b[2]].join(","),")"].join("")},setup:function(){this.enshadow(".bg");this.localise();this.generate()},init:function(){this.setup()}};window.DTS=a;a.init()}());